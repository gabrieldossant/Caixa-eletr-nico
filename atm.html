<html>

<head>

	<script>

		var nome = (prompt("Digite seu nome: "));
		alert("Olá, " + nome + " é um prazer ter você por aqui. ");
		var saldo = 10000.00; //Float
		
		function inicio() {
            
			var escolha = parseInt(prompt(" Selecione uma opção | [1] Saldo | [2] Extrato | [3] Saque | [4] Depósito | [5] Transferência | [6] Sair |"));

			switch (escolha) {
				case 1:
					senhaT();
					ver_saldo();
					break;
				case 2: 
					ver_extrato();
					break;
				case 3:
					fazer_saque();
					break;
				case 4: 
					fazer_deposito();
					break;
				case 5:
					ver_transferencia();
					break;
				case 6:
					sair();
					break;
				default : 
					alert("Informe um valor de 1 a 6. ");
					inicio();
					break;
			}
			
		}		

		function ver_saldo() {
			alert('Seu saldo atualizado é: ' + saldo);
			inicio();
		}

		function ver_extrato() {
			senhaT();
			alert("| Spotify R$ 9,90 / Data 25/03 | Mizuken R$ 209,77 / Data 24/03 | Netflix R$ 55,90 / Data 19/03 |");
			inicio();
		}

		function ver_transferencia() {
			senhaT();
			var transferencia = parseInt(prompt("Qual o valor da transferência? "));
			var conta = parseInt(prompt("Informe sua conta: "));
			if (isNaN(conta) || conta === '' || conta <= 0) {
				alert('Por favor, informe um número!');
				ver_transferencia();
			} 
			if (transferencia > saldo || isNaN(transferencia) || transferencia <= 0) {
				alert("Operação não autorizada. ");
				ver_transferencia();
			} else {
				saldo = saldo - transferencia;
				alert("Transferência concluída. ");
				ver_saldo();
			}
		}

		function fazer_deposito() {
			var deposito = parseFloat(prompt('Qual o valor para depósito?'));
			// Not a Number -> Isso é um não-número?
			if (isNaN(deposito) || deposito === '') {
				alert('Por favor, informe um número!');
				fazer_deposito();
			} else if (deposito <= 0) {
				alert("Operação não autorizada, insira outro valor. ");
				fazer_deposito();
			} else {
				saldo = saldo + deposito;
                //saldo += deposito; 

				ver_saldo();
			}
		}

		function fazer_saque() {
			senhaT();
			var saque = parseFloat(prompt('Qual o valor para saque?'));
			if (isNaN(saque) || saque === '') {
				alert('Por favor, informe um número:');
				fazer_saque();
			} else if (saque > saldo || saque <= 0) {
				alert(" Operação não autorizada, insira outro valor. ");
				fazer_saque();
			} else {
				saldo -= saque;	
				ver_saldo();
			}
		}

		function senhaT() {
			var senha = parseInt(prompt("Digite a senha: "));
			if (senha != 3589 || senha === '') {
				alert("Senha inválida, tente novamente. ");
				senhaT();
			} else {
				senha = 3589
			}
		}


		function erro() {
			alert('Por favor, informe um número entre 1 e 6');
			inicio();
		}

		function sair() {
			var confirma = confirm('Você deseja sair?');
			if (confirma) {

				alert(nome + ", foi um prazer ter você por aqui. ");

				window.close();

			} else {
                
				inicio();
			}
		}

		inicio();

    </script>
    </head>
    <body>

    </body></html>
